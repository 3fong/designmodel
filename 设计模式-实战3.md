## 实战3

### 灰度代码发布

#### 需求

将rpc替换为restful,且保证服务不停机

问题:

1. 代码并行运行,要进行调用方式选择配置
2. 降低代码回滚影响.代码实现隔离,在调用时控制调用方式选择.来避免实现耦合,从而降低回滚难度.同时调用配置中要支持的配置项包括:接口,灰度比例,特征

需要实现的功能:

灰度发布的功能类似于限流,都是一种网关性质的功能,需要中心处理后,决定下一步的调度.

功能性需求:

1 定义灰度配置规则    
2 调用方式控制(验证是否要进行灰度控制)

非功能需求:

容错性:灰度功能异常,不影响业务功能使用;    
安全性:
性能:
扩容:不需要中心节点,统一控制,直接类库集成,系统自治理就好.    
易用性:提供类库.



















